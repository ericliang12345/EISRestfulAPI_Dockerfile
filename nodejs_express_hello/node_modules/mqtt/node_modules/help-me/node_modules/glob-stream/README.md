# README

 [![](https://raw.githubusercontent.com/gulpjs/artwork/master/gulp-2x.png)](http://gulpjs.com)

## glob-stream

[![](https://badge.fury.io/js/glob-stream.svg)](https://www.npmjs.com/package/glob-stream) [![](http://img.shields.io/npm/dm/glob-stream.svg)](https://www.npmjs.com/package/glob-stream) [![](https://travis-ci.org/gulpjs/glob-stream.svg?branch=master)](https://travis-ci.org/gulpjs/glob-stream) [![](https://coveralls.io/repos/gulpjs/glob-stream/badge.svg)](https://coveralls.io/r/gulpjs/glob-stream) [![](https://badges.gitter.im/gulpjs/gulp.png)](https://gitter.im/gulpjs/gulp)

A wrapper around [node-glob](https://github.com/isaacs/node-glob) to make it streamy.

### Usage

```javascript
var gs = require('glob-stream');

var stream = gs.create('./files/**/*.coffee', { /* options */ });

stream.on('data', function(file){
  // file has path, base, and cwd attrs
});
```

You can pass any combination of globs. One caveat is that you can not only pass a glob negation, you must give it at least one positive glob so it knows where to start. All given must match for the file to be returned.

### API

#### create\(globs, options\)

Returns a stream for multiple globs or filters.

#### createStream\(positiveGlob, negativeGlobs, options\)

Returns a stream for a single glob or filter.

#### Options

* cwd
  * Default is `process.cwd()`
* base
  * Default is everything before a glob starts \(see [glob-parent](https://github.com/es128/glob-parent)\)
* cwdbase
  * Default is `false`
  * When true it is the same as saying opt.base = opt.cwd
* allowEmpty
  * Default is `false`
  * If true, won't emit an error when a glob pointing at a single file fails to match
* Any through2 related options are documented in [through2](https://github.com/rvagg/through2)

This argument is passed directly to [node-glob](https://github.com/isaacs/node-glob) so check there for more options

#### Glob

```javascript
var stream = gs.create(['./**/*.js', '!./node_modules/**/*']);
```

Globs are executed in order, so negations should follow positive globs. For example:

```javascript
gulp.src(['!b*.js', '*.js'])
```

would not exclude any files, but this would

```javascript
gulp.src(['*.js', '!b*.js'])
```

### Related

* [globby](https://github.com/sindresorhus/globby) - Non-streaming `glob` wrapper with support for multiple patterns.

### License

MIT

